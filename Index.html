<!DOCTYPE html>
<html lang="en">
<!-- The <head> and <style> section is the same, but add styles for the navigation -->
<head>
  <!-- ... same as before ... -->
  <style>
      /* ... same as before ... */
      .navigation { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
      button { padding: 10px 15px; border: 1px solid #ccc; background-color: #f0f0f0; border-radius: 5px; cursor: pointer; }
      button:disabled { color: #aaa; cursor: not-allowed; }
  </style>
</head>
<body>
    <div class="container">
        <h1>German Learning Portal - Layer 2</h1>
        <div class="navigation">
            <button id="prevBtn">← Previous</button>
            <span id="lesson-counter"></span>
            <button id="nextBtn">Next →</button>
        </div>
        <div id="current-lesson">Loading...</div>
    </div>
    <script>
        let allLessons = [];
        let currentLessonIndex = 0;

        async function initialize() {
            try {
                const response = await fetch('./lessons.json');
                const data = await response.json();
                allLessons = data.lessons;
                displayCurrentLesson();
            } catch (error) {
                document.getElementById('current-lesson').innerHTML = 'Error loading lessons.';
            }
        }

        function showNextLesson() {
            if (currentLessonIndex < allLessons.length - 1) {
                currentLessonIndex++;
                displayCurrentLesson();
            }
        }

        function showPreviousLesson() {
            if (currentLessonIndex > 0) {
                currentLessonIndex--;
                displayCurrentLesson();
            }
        }

        function displayCurrentLesson() {
            const lesson = allLessons[currentLessonIndex];
            const container = document.getElementById('current-lesson');
            container.innerHTML = `<div class="lesson">
                <h2>${lesson.title}</h2>
                <h3>German Text (Color Coded):</h3><p class="german-paragraph">${lesson.germanTextHTML}</p>
                <h3>English Translation:</h3><p>${lesson.englishText}</p>
                <h3>Key Vocabulary:</h3>${lesson.vocabularyHTML}
                <h3>German Grammar Focus:</h3>${lesson.grammarFocusHTML}
            </div>`;
            updateNavigationUI();
        }

        function updateNavigationUI() {
            document.getElementById('lesson-counter').textContent = `Lesson ${currentLessonIndex + 1} of ${allLessons.length}`;
            document.getElementById('prevBtn').disabled = currentLessonIndex === 0;
            document.getElementById('nextBtn').disabled = currentLessonIndex === allLessons.length - 1;
        }

        document.getElementById('prevBtn').addEventListener('click', showPreviousLesson);
        document.getElementById('nextBtn').addEventListener('click', showNextLesson);

        initialize();
    </script>
</body>
</html>
